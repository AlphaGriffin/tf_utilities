#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Wed Feb 15 23:12:59 2017

@author: eric
"""

import os
os.chdir("/home/eric/git/tf_utilities")
import lib.build_network as net               # Plug all the data into Tensorflow... very carefully...
import lib.mupen64 as data                    # Start a custom dataset based on the given dataset + special sauce
import lib.process_network as proc
import lib.options as opts
"""
class options(object):
    def __init__(self, verbose=True, learning_rate=1e-5, batch_size=42, optimizer=2, epochs=500):
        self.verbose = verbose
        self.epochs = epochs
        #self.model_path = "/home/eric/.local/share/mupen64plus/datasets/mariokart64"
        self.learning_rate = learning_rate
        self.batch_size = batch_size 
        self.optimizer = optimizer
        #self.entropy = entropy
        ## CNN options
        self.conv_layers = 5      # of conv layers 2 stock
        self.fc_layers = 5       # of fully connected layers 2 stock     
        self.f_size = 5           # fixed size not file size... silly 5 stock
        self.fc_size = 128       # Max # of elements in FC flatened layers
        self.L2NormConst = 0.001  # duh L2NormCOnst...
        self.save_path = "/home/eric/.local/share/mupen64plus/model/mariokart64/"
"""
        
INPUTDATA_IMG = "/home/eric/.local/share/mupen64plus/datasets/mariokart64/_mariokart64_dataset_12_image.npy"
INPUTDATA_LABEL = "/home/eric/.local/share/mupen64plus/datasets/mariokart64/_mariokart64_dataset_12_label.npy"

#CONFIG = options(verbose=False)
CONFIG = opts.options(verbose=False)
DATASET = data.mupenDataset(INPUTDATA_IMG, INPUTDATA_LABEL, CONFIG)
NETWORK = net.Build_Adv_Network(DATASET)
WORKER  = proc.Process_Network(NETWORK)

WORKER.run()

"""
# Backup working fuctionality
NETWORK.long_haul()
NETWORK.save_graph()
"""
#ACTIVE_INPUT = DATASET.test_images[184]
#plaing_game_active_output = WERX.que_graph(ACTIVE_INPUT)

print("And im done")